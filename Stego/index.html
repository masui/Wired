<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" href="../wired.css" type="text/css">
<title>森の中に木を隠す</title>
</head>
<body>

<div style='width:500px'>

<a href="../index.html">トップ</a>

<h2>第26回 森の中に木を隠す</h2>

パソコンで各種のサービスを利用する場合、
パスワード、クレジットカード番号、購買履歴など
沢山の秘密情報を扱うことになりますが、
こういった情報を普通のファイルに書いておくと、
何かの機会に他人にみつかってしまう可能性がありますから、
なんらかの方法で隠しておく必要があります。

<p>
特殊な装置を接続したときだけ秘密ファイルが見えるようにする装置について
<a href="http://wiredvision.jp/blog/masui/200708/200708171000.html">秘密情報のコントロール</a>
で解説しました。
このような装置は鍵のような感覚で利用することができるので手軽ですが、
鍵と同様の厳重な管理が必要ですし、データのバックアップなどに注意が必要です。
秘密ファイルは普段は見えないわけですから、
自動的にバックアップすることはできないでしょうし、
間違って消してしまってもしばらく気付かないかもしれません。
また、秘密データをネットワーク上に置くことができませんし、
自分が使うあらゆるマシンで正しく動くようにするのは大変でしょう。

<p>
特殊な装置を使わず、一般的な暗号化アルゴリズムを利用すれば、
データをどこに置いてもかまいませんし、バックアップ関連の問題も減ると思われますが、
この場合は暗号化されたデータが誰からも丸見えになってしまいますから、
暗号解読攻撃を受けやすくなる可能性があります。

<p>
秘密情報を手軽に安全に扱うためには、以下のような要件を満たす必要がありそうです。

<ul>
<li>特殊なハードウェアを必要としない
<li>他人にみつかりにくい
<li>他人にみつかっても困らない
<li>他人には解読できない
<li>置き場所や存在そのものを忘れない
<li>誤って消してしまうことがない
</ul>

<h3>ステガノグラフィー</h3>

暗号化したことがわからないように秘密データを普通のデータの中に埋め込む手法を
<a href="http://ja.wikipedia.org/wiki/%E3%82%B9%E3%83%86%E3%82%AC%E3%83%8E%E3%82%B0%E3%83%A9%E3%83%95%E3%82%A3%E3%83%BC">ステガノグラフィー</a>
と呼びます。
普通の暗号と異なり、データが隠されていること自体が自明でないため、
解読の危険に晒される危険が少ないと考えられています。
もとデータに重畳する形で秘密データを書き込むため、
秘密データのサイズをあまり大きくすることはできませんが、
秘密データは大抵小さなテキストのことが多いため、
写真データのような大きなファイルに埋め込んでしまえばうまく秘密データの存在を隠すことができます。
<p>

秘密データを隠す対象としては動画、画像、音楽のような、
複雑かつどこにでもあるデータを利用するとよさそうです。
デジカメなどで標準的に使われているJPEG画像ファイルにデータを隠すことができる
<a href="http://linux01.gwdg.de/~alatham/stego.html">JPHIDE/JPSEEK</a>
および
<a href="http://www.outguess.org/">OutGuess</a>
というシステムを使って、私の写真に秘密情報を埋め込んでみました。
(1)がもとの画像です。

<blockquote>
(1) オリジナルのJPEGデータ(5654バイト)<br>
<img src="masui2.jpg">
</blockquote>

<blockquote>
(2) JPHIDEで円周率の先頭40桁("3.1415...")を埋め込んだもの(5322バイト)<br>
<img src="masui-jphide-40.jpg">
</blockquote>

<blockquote>
(3) JPHIDEで円周率の先頭200桁を埋め込んだもの(5326バイト)<br>
<img src="masui-jphide-200.jpg">
</blockquote>

<blockquote>
(4) OutGuessで円周率の先頭200桁を埋め込んだもの(5408バイト)<br>
<img src="masui-outguess-200.jpg">
</blockquote>

(3)と(4)は同じデータを同じ画像に埋め込んだ結果ですが、
JPHIDEの方が画像の劣化が小さいようです。

<p>
パーソナルな写真や動画に秘密情報を埋め込んでおくことにすれば、
前述の条件をうまく満たすことができます。
デジカメ写真フォルダ内のデータは滅多に消すことはないでしょうし、
注意してバックアップするのが普通です。
また家族や他人に見られて困ることはありません。
秘密情報を埋め込んだことを忘れてしまう可能性はありますが、
それを忘れてしまうようならば大した秘密情報ではないでしょう。
どの写真が秘密情報を含むものかを忘れた場合は、
手持ちのすべての写真に対して復号を試みてみればよいでしょう。

<p>
ステガノグラフィーを使って秘密を隠す方法は現在のところ
ほとんど使われていないようですが、潜在的ニーズは多いと思います。
JPHIDEやOutGuessはコマンドラインからしか使えないので
あまり便利とはいえませんが、
インタフェースを改良した使いやすい秘密管理システムが
望まれるところです。

<!--
 % stegano -x DSCF1234.JPG -p password
  パスワードを指定して情報を得る
  パスワードが違っているときは何も情報を返さない
  パスワードが正しいときはunzip的なことをする
  秘密情報がないときは空データから始める
 % stegano -c DSCF1234.JPG -p password
  データをまとめてJPGファイルにする
  データは消去する
-->

<hr>
<span style="font-size:7pt;">
$Date: 2010-01-12 18:02:09 +0900 (火, 12  1 2010) $
</span>

</div>

</body>
</html>
